(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function G(){}function Ut(o){return o()}function Ot(){return Object.create(null)}function J(o){o.forEach(Ut)}function zt(o){return typeof o=="function"}function dt(o,n){return o!=o?n==n:o!==n||o&&typeof o=="object"||typeof o=="function"}function Bt(o){return Object.keys(o).length===0}function Jt(o,...n){if(o==null)return G;const t=o.subscribe(...n);return t.unsubscribe?()=>t.unsubscribe():t}function qt(o,n,t){o.$$.on_destroy.push(Jt(n,t))}function Pt(o){return o??""}function w(o,n){o.appendChild(n)}function v(o,n,t){o.insertBefore(n,t||null)}function h(o){o.parentNode&&o.parentNode.removeChild(o)}function Ht(o,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].d(n)}function m(o){return document.createElement(o)}function D(o){return document.createTextNode(o)}function I(){return D(" ")}function xt(){return D("")}function N(o,n,t,e){return o.addEventListener(n,t,e),()=>o.removeEventListener(n,t,e)}function Kt(o){return function(n){return n.preventDefault(),o.call(this,n)}}function y(o,n,t){t==null?o.removeAttribute(n):o.getAttribute(n)!==t&&o.setAttribute(n,t)}function Wt(o){return Array.from(o.childNodes)}function Q(o,n){n=""+n,o.wholeText!==n&&(o.data=n)}function L(o,n){o.value=n??""}let tt;function Z(o){tt=o}function Vt(){if(!tt)throw new Error("Function called outside component initialization");return tt}function Qt(o){Vt().$$.on_mount.push(o)}function Yt(o,n){const t=o.$$.callbacks[n.type];t&&t.slice().forEach(e=>e.call(this,n))}const X=[],kt=[],lt=[],It=[],Xt=Promise.resolve();let ft=!1;function Zt(){ft||(ft=!0,Xt.then(Dt))}function ht(o){lt.push(o)}const pt=new Set;let rt=0;function Dt(){const o=tt;do{for(;rt<X.length;){const n=X[rt];rt++,Z(n),te(n.$$)}for(Z(null),X.length=0,rt=0;kt.length;)kt.pop()();for(let n=0;n<lt.length;n+=1){const t=lt[n];pt.has(t)||(pt.add(t),t())}lt.length=0}while(X.length);for(;It.length;)It.pop()();ft=!1,pt.clear(),Z(o)}function te(o){if(o.fragment!==null){o.update(),J(o.before_update);const n=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,n),o.after_update.forEach(ht)}}const ut=new Set;let K;function ee(){K={r:0,c:[],p:K}}function ne(){K.r||J(K.c),K=K.p}function et(o,n){o&&o.i&&(ut.delete(o),o.i(n))}function at(o,n,t,e){if(o&&o.o){if(ut.has(o))return;ut.add(o),K.c.push(()=>{ut.delete(o),e&&(t&&o.d(1),e())}),o.o(n)}else e&&e()}function Ft(o){o&&o.c()}function bt(o,n,t,e){const{fragment:i,after_update:r}=o.$$;i&&i.m(n,t),e||ht(()=>{const s=o.$$.on_mount.map(Ut).filter(zt);o.$$.on_destroy?o.$$.on_destroy.push(...s):J(s),o.$$.on_mount=[]}),r.forEach(ht)}function yt(o,n){const t=o.$$;t.fragment!==null&&(J(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function ie(o,n){o.$$.dirty[0]===-1&&(X.push(o),Zt(),o.$$.dirty.fill(0)),o.$$.dirty[n/31|0]|=1<<n%31}function gt(o,n,t,e,i,r,s,l=[-1]){const a=tt;Z(o);const u=o.$$={fragment:null,ctx:[],props:r,update:G,not_equal:i,bound:Ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(a?a.$$.context:[])),callbacks:Ot(),dirty:l,skip_bound:!1,root:n.target||a.$$.root};s&&s(u.root);let c=!1;if(u.ctx=t?t(o,n.props||{},(d,g,..._)=>{const k=_.length?_[0]:g;return u.ctx&&i(u.ctx[d],u.ctx[d]=k)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](k),c&&ie(o,d)),g}):[],u.update(),c=!0,J(u.before_update),u.fragment=e?e(u.ctx):!1,n.target){if(n.hydrate){const d=Wt(n.target);u.fragment&&u.fragment.l(d),d.forEach(h)}else u.fragment&&u.fragment.c();n.intro&&et(o.$$.fragment),bt(o,n.target,n.anchor,n.customElement),Dt()}Z(a)}class _t{$destroy(){yt(this,1),this.$destroy=G}$on(n,t){if(!zt(t))return G;const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const i=e.indexOf(t);i!==-1&&e.splice(i,1)}}$set(n){this.$$set&&!Bt(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}var vt=function(o,n){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},vt(o,n)};function $(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=o}vt(o,n),o.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var mt=function(){return mt=Object.assign||function(o){for(var n,t=1,e=arguments.length;t<e;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i]);return o},mt.apply(this,arguments)};function U(o,n,t,e){return new(t||(t=Promise))(function(i,r){function s(u){try{a(e.next(u))}catch(c){r(c)}}function l(u){try{a(e.throw(u))}catch(c){r(c)}}function a(u){var c;u.done?i(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(s,l)}a((e=e.apply(o,n||[])).next())})}function z(o,n){var t,e,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(a){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,e&&(i=2&c[0]?e.return:c[0]?e.throw||((i=e.return)&&i.call(e),0):e.next)&&!(i=i.call(e,c[1])).done)return i;switch(e=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,e=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=n.call(o,s)}catch(d){c=[6,d],e=0}finally{t=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([a,u])}}}var Mt,nt=function(o){function n(t){var e,i=this;return(i=o.call(this,"ClientResponseError")||this).url="",i.status=0,i.data={},i.isAbort=!1,i.originalError=null,Object.setPrototypeOf(i,n.prototype),t instanceof n||(i.originalError=t),t!==null&&typeof t=="object"&&(i.url=typeof t.url=="string"?t.url:"",i.status=typeof t.status=="number"?t.status:0,i.data=t.data!==null&&typeof t.data=="object"?t.data:{}),typeof DOMException<"u"&&t instanceof DOMException&&(i.isAbort=!0),i.name="ClientResponseError "+i.status,i.message=(e=i.data)===null||e===void 0?void 0:e.message,i.message||(i.message=i.isAbort?"The request was autocancelled. More info you could find in https://github.com/pocketbase/js-sdk#auto-cancellation.":"Something went wrong while processing your request."),i}return $(n,o),n.prototype.toJSON=function(){return mt({},this)},n}(Error),st=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Tt(o,n,t){var e=Object.assign({},t||{}),i=e.encode||re;if(!st.test(o))throw new TypeError("argument name is invalid");var r=i(n);if(r&&!st.test(r))throw new TypeError("argument val is invalid");var s=o+"="+r;if(e.maxAge!=null){var l=e.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(l)}if(e.domain){if(!st.test(e.domain))throw new TypeError("option domain is invalid");s+="; Domain="+e.domain}if(e.path){if(!st.test(e.path))throw new TypeError("option path is invalid");s+="; Path="+e.path}if(e.expires){if(!function(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}(e.expires)||isNaN(e.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+e.expires.toUTCString()}if(e.httpOnly&&(s+="; HttpOnly"),e.secure&&(s+="; Secure"),e.priority)switch(typeof e.priority=="string"?e.priority.toLowerCase():e.priority){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(e.sameSite)switch(typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}function oe(o){return o.indexOf("%")!==-1?decodeURIComponent(o):o}function re(o){return encodeURIComponent(o)}function Et(o){if(o)try{var n=decodeURIComponent(Mt(o.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)||{}}catch{}return{}}Mt=typeof atob=="function"?atob:function(o){var n=String(o).replace(/=+$/,"");if(n.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,e,i=0,r=0,s="";e=n.charAt(r++);~e&&(t=i%4?64*t+e:e,i++%4)?s+=String.fromCharCode(255&t>>(-2*i&6)):0)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);return s};var it=function(){function o(n){n===void 0&&(n={}),this.load(n||{})}return o.prototype.load=function(n){for(var t=0,e=Object.entries(n);t<e.length;t++){var i=e[t],r=i[0],s=i[1];this[r]=s}this.id=n.id!==void 0?n.id:"",this.created=n.created!==void 0?n.created:"",this.updated=n.updated!==void 0?n.updated:""},Object.defineProperty(o.prototype,"isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),o.prototype.clone=function(){var n=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(n)},o.prototype.export=function(){return Object.assign({},this)},o}(),ct=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype.load=function(t){o.prototype.load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this.loadExpand(t.expand)},n.prototype.loadExpand=function(t){for(var e in t=t||{},this.expand={},t)Array.isArray(t[e])?this.expand[e]=t[e].map(function(i){return new n(i||{})}):this.expand[e]=new n(t[e]||{})},n}(it),wt=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype.load=function(t){o.prototype.load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},n}(it),se=function(){function o(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(o.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isValid",{get:function(){return!function(n,t){t===void 0&&(t=0);var e=Et(n);return!(Object.keys(e).length>0&&(!e.exp||e.exp-t>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),o.prototype.save=function(n,t){this.baseToken=n||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new ct(t):new wt(t):null,this.triggerChange()},o.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},o.prototype.loadFromCookie=function(n,t){t===void 0&&(t="pb_auth");var e=function(r,s){var l={};if(typeof r!="string")return l;for(var a=Object.assign({},s||{}).decode||oe,u=0;u<r.length;){var c=r.indexOf("=",u);if(c===-1)break;var d=r.indexOf(";",u);if(d===-1)d=r.length;else if(d<c){u=r.lastIndexOf(";",c-1)+1;continue}var g=r.slice(u,c).trim();if(l[g]===void 0){var _=r.slice(c+1,d).trim();_.charCodeAt(0)===34&&(_=_.slice(1,-1));try{l[g]=a(_)}catch{l[g]=_}}u=d+1}return l}(n||"")[t]||"",i={};try{(typeof(i=JSON.parse(e))===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)},o.prototype.exportToCookie=function(n,t){var e,i,r;t===void 0&&(t="pb_auth");var s={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},l=Et(this.token);l!=null&&l.exp?s.expires=new Date(1e3*l.exp):s.expires=new Date("1970-01-01"),n=Object.assign({},s,n);var a={token:this.token,model:((e=this.model)===null||e===void 0?void 0:e.export())||null},u=Tt(t,JSON.stringify(a),n),c=typeof Blob<"u"?new Blob([u]).size:u.length;return a.model&&c>4096&&(a.model={id:(i=a==null?void 0:a.model)===null||i===void 0?void 0:i.id,email:(r=a==null?void 0:a.model)===null||r===void 0?void 0:r.email},this.model instanceof ct&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),u=Tt(t,JSON.stringify(a),n)),u},o.prototype.onChange=function(n,t){var e=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(n),t&&n(this.token,this.model),function(){for(var i=e._onChangeCallbacks.length-1;i>=0;i--)if(e._onChangeCallbacks[i]==n)return delete e._onChangeCallbacks[i],void e._onChangeCallbacks.splice(i,1)}},o.prototype.triggerChange=function(){for(var n=0,t=this._onChangeCallbacks;n<t.length;n++){var e=t[n];e&&e(this.token,this.model)}},o}(),le=function(o){function n(t){t===void 0&&(t="pocketbase_auth");var e=o.call(this)||this;return e.storageFallback={},e.storageKey=t,e}return $(n,o),Object.defineProperty(n.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){var t,e=this._storageGet(this.storageKey)||{};return e===null||typeof e!="object"||e.model===null||typeof e.model!="object"?null:((t=e.model)===null||t===void 0?void 0:t.collectionId)===void 0?new wt(e.model):new ct(e.model)},enumerable:!1,configurable:!0}),n.prototype.save=function(t,e){this._storageSet(this.storageKey,{token:t,model:e}),o.prototype.save.call(this,t,e)},n.prototype.clear=function(){this._storageRemove(this.storageKey),o.prototype.clear.call(this)},n.prototype._storageGet=function(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var e=window.localStorage.getItem(t)||"";try{return JSON.parse(e)}catch{return e}}return this.storageFallback[t]},n.prototype._storageSet=function(t,e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=e;typeof e!="string"&&(i=JSON.stringify(e)),window.localStorage.setItem(t,i)}else this.storageFallback[t]=e},n.prototype._storageRemove=function(t){var e;typeof window<"u"&&(window!=null&&window.localStorage)&&((e=window.localStorage)===null||e===void 0||e.removeItem(t)),delete this.storageFallback[t]},n}(se),ot=function(o){this.client=o},ue=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(e){return e||{}})},n.prototype.update=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.client.send("/api/settings",{method:"PATCH",params:e,body:t}).then(function(i){return i||{}})},n.prototype.testS3=function(t){return t===void 0&&(t={}),this.client.send("/api/settings/test/s3",{method:"POST",params:t}).then(function(){return!0})},n.prototype.testEmail=function(t,e,i){i===void 0&&(i={});var r={email:t,template:e};return this.client.send("/api/settings/test/email",{method:"POST",params:i,body:r}).then(function(){return!0})},n}(ot),Gt=function(o,n,t,e,i){this.page=o>0?o:1,this.perPage=n>=0?n:0,this.totalItems=t>=0?t:0,this.totalPages=e>=0?e:0,this.items=i||[]},St=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype.getFullList=function(t,e){return t===void 0&&(t=200),e===void 0&&(e={}),this._getFullList(this.baseCrudPath,t,e)},n.prototype.getList=function(t,e,i){return t===void 0&&(t=1),e===void 0&&(e=30),i===void 0&&(i={}),this._getList(this.baseCrudPath,t,e,i)},n.prototype.getFirstListItem=function(t,e){return e===void 0&&(e={}),this._getFirstListItem(this.baseCrudPath,t,e)},n.prototype.getOne=function(t,e){return e===void 0&&(e={}),this._getOne(this.baseCrudPath,t,e)},n.prototype.create=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this._create(this.baseCrudPath,t,e)},n.prototype.update=function(t,e,i){return e===void 0&&(e={}),i===void 0&&(i={}),this._update(this.baseCrudPath,t,e,i)},n.prototype.delete=function(t,e){return e===void 0&&(e={}),this._delete(this.baseCrudPath,t,e)},n}(function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype._getFullList=function(t,e,i){var r=this;e===void 0&&(e=100),i===void 0&&(i={});var s=[],l=function(a){return U(r,void 0,void 0,function(){return z(this,function(u){return[2,this._getList(t,a,e,i).then(function(c){var d=c,g=d.items,_=d.totalItems;return s=s.concat(g),g.length&&_>s.length?l(a+1):s})]})})};return l(1)},n.prototype._getList=function(t,e,i,r){var s=this;return e===void 0&&(e=1),i===void 0&&(i=30),r===void 0&&(r={}),r=Object.assign({page:e,perPage:i},r),this.client.send(t,{method:"GET",params:r}).then(function(l){var a=[];if(l!=null&&l.items){l.items=l.items||[];for(var u=0,c=l.items;u<c.length;u++){var d=c[u];a.push(s.decode(d))}}return new Gt((l==null?void 0:l.page)||1,(l==null?void 0:l.perPage)||0,(l==null?void 0:l.totalItems)||0,(l==null?void 0:l.totalPages)||0,a)})},n.prototype._getOne=function(t,e,i){var r=this;return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(e),{method:"GET",params:i}).then(function(s){return r.decode(s)})},n.prototype._getFirstListItem=function(t,e,i){return i===void 0&&(i={}),i=Object.assign({filter:e,$cancelKey:"one_by_filter_"+t+"_"+e},i),this._getList(t,1,1,i).then(function(r){var s;if(!(!((s=r==null?void 0:r.items)===null||s===void 0)&&s.length))throw new nt({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]})},n.prototype._create=function(t,e,i){var r=this;return e===void 0&&(e={}),i===void 0&&(i={}),this.client.send(t,{method:"POST",params:i,body:e}).then(function(s){return r.decode(s)})},n.prototype._update=function(t,e,i,r){var s=this;return i===void 0&&(i={}),r===void 0&&(r={}),this.client.send(t+"/"+encodeURIComponent(e),{method:"PATCH",params:r,body:i}).then(function(l){return s.decode(l)})},n.prototype._delete=function(t,e,i){return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(e),{method:"DELETE",params:i}).then(function(){return!0})},n}(ot)),ae=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype.decode=function(t){return new wt(t)},Object.defineProperty(n.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),n.prototype.update=function(t,e,i){var r=this;return e===void 0&&(e={}),i===void 0&&(i={}),o.prototype.update.call(this,t,e,i).then(function(s){var l,a;return r.client.authStore.model&&((l=r.client.authStore.model)===null||l===void 0?void 0:l.collectionId)===void 0&&((a=r.client.authStore.model)===null||a===void 0?void 0:a.id)===(s==null?void 0:s.id)&&r.client.authStore.save(r.client.authStore.token,s),s})},n.prototype.delete=function(t,e){var i=this;return e===void 0&&(e={}),o.prototype.delete.call(this,t,e).then(function(r){var s,l;return r&&i.client.authStore.model&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((l=i.client.authStore.model)===null||l===void 0?void 0:l.id)===t&&i.client.authStore.clear(),r})},n.prototype.authResponse=function(t){var e=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,e),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:e})},n.prototype.authWithPassword=function(t,e,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({identity:t,password:e},i),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:r,body:i,headers:{Authorization:""}}).then(this.authResponse.bind(this))},n.prototype.authRefresh=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:e,body:t}).then(this.authResponse.bind(this))},n.prototype.requestPasswordReset=function(t,e,i){return e===void 0&&(e={}),i===void 0&&(i={}),e=Object.assign({email:t},e),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:i,body:e}).then(function(){return!0})},n.prototype.confirmPasswordReset=function(t,e,i,r,s){return r===void 0&&(r={}),s===void 0&&(s={}),r=Object.assign({token:t,password:e,passwordConfirm:i},r),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:s,body:r}).then(function(){return!0})},n}(St),ce=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype.load=function(t){o.prototype.load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},n}(it),de=function(o){function n(t,e){var i=o.call(this,t)||this;return i.collectionIdOrName=e,i}return $(n,o),n.prototype.decode=function(t){return new ct(t)},Object.defineProperty(n.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),n.prototype.subscribeOne=function(t,e){return U(this,void 0,void 0,function(){return z(this,function(i){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,e)]})})},n.prototype.subscribe=function(t,e){return U(this,void 0,void 0,function(){var i;return z(this,function(r){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!e)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return i=this.collectionIdOrName,t!=="*"&&(i+="/"+t),[2,this.client.realtime.subscribe(i,e)]})})},n.prototype.unsubscribe=function(t){return U(this,void 0,void 0,function(){return z(this,function(e){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},n.prototype.getFullList=function(t,e){return t===void 0&&(t=200),e===void 0&&(e={}),o.prototype.getFullList.call(this,t,e)},n.prototype.getList=function(t,e,i){return t===void 0&&(t=1),e===void 0&&(e=30),i===void 0&&(i={}),o.prototype.getList.call(this,t,e,i)},n.prototype.getFirstListItem=function(t,e){return e===void 0&&(e={}),o.prototype.getFirstListItem.call(this,t,e)},n.prototype.getOne=function(t,e){return e===void 0&&(e={}),o.prototype.getOne.call(this,t,e)},n.prototype.create=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),o.prototype.create.call(this,t,e)},n.prototype.update=function(t,e,i){var r=this;return e===void 0&&(e={}),i===void 0&&(i={}),o.prototype.update.call(this,t,e,i).then(function(s){var l,a;return((l=r.client.authStore.model)===null||l===void 0?void 0:l.collectionId)!==void 0&&((a=r.client.authStore.model)===null||a===void 0?void 0:a.id)===(s==null?void 0:s.id)&&r.client.authStore.save(r.client.authStore.token,s),s})},n.prototype.delete=function(t,e){var i=this;return e===void 0&&(e={}),o.prototype.delete.call(this,t,e).then(function(r){var s,l;return r&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==void 0&&((l=i.client.authStore.model)===null||l===void 0?void 0:l.id)===t&&i.client.authStore.clear(),r})},n.prototype.authResponse=function(t){var e=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,e),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:e})},n.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(e){return Object.assign({},e,{usernamePassword:!!(e!=null&&e.usernamePassword),emailPassword:!!(e!=null&&e.emailPassword),authProviders:Array.isArray(e==null?void 0:e.authProviders)?e==null?void 0:e.authProviders:[]})})},n.prototype.authWithPassword=function(t,e,i,r){var s=this;return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({identity:t,password:e},i),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:r,body:i,headers:{Authorization:""}}).then(function(l){return s.authResponse(l)})},n.prototype.authWithOAuth2=function(t,e,i,r,s,l,a){var u=this;return s===void 0&&(s={}),l===void 0&&(l={}),a===void 0&&(a={}),l=Object.assign({provider:t,code:e,codeVerifier:i,redirectUrl:r,createData:s},l),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:l}).then(function(c){return u.authResponse(c)})},n.prototype.authRefresh=function(t,e){var i=this;return t===void 0&&(t={}),e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:e,body:t}).then(function(r){return i.authResponse(r)})},n.prototype.requestPasswordReset=function(t,e,i){return e===void 0&&(e={}),i===void 0&&(i={}),e=Object.assign({email:t},e),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:i,body:e}).then(function(){return!0})},n.prototype.confirmPasswordReset=function(t,e,i,r,s){return r===void 0&&(r={}),s===void 0&&(s={}),r=Object.assign({token:t,password:e,passwordConfirm:i},r),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:s,body:r}).then(function(){return!0})},n.prototype.requestVerification=function(t,e,i){return e===void 0&&(e={}),i===void 0&&(i={}),e=Object.assign({email:t},e),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:i,body:e}).then(function(){return!0})},n.prototype.confirmVerification=function(t,e,i){return e===void 0&&(e={}),i===void 0&&(i={}),e=Object.assign({token:t},e),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:i,body:e}).then(function(){return!0})},n.prototype.requestEmailChange=function(t,e,i){return e===void 0&&(e={}),i===void 0&&(i={}),e=Object.assign({newEmail:t},e),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:i,body:e}).then(function(){return!0})},n.prototype.confirmEmailChange=function(t,e,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({token:t,password:e},i),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:r,body:i}).then(function(){return!0})},n.prototype.listExternalAuths=function(t,e){return e===void 0&&(e={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:e}).then(function(i){var r=[];if(Array.isArray(i))for(var s=0,l=i;s<l.length;s++){var a=l[s];r.push(new ce(a))}return r})},n.prototype.unlinkExternalAuth=function(t,e,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(e),{method:"DELETE",params:i}).then(function(){return!0})},n}(St),pe=function(){function o(n){n===void 0&&(n={}),this.load(n||{})}return o.prototype.load=function(n){this.id=n.id!==void 0?n.id:"",this.name=n.name!==void 0?n.name:"",this.type=n.type!==void 0?n.type:"text",this.system=!!n.system,this.required=!!n.required,this.unique=!!n.unique,this.options=typeof n.options=="object"&&n.options!==null?n.options:{}},o}(),fe=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype.load=function(t){o.prototype.load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0?t.options:{},this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var e=0,i=t.schema;e<i.length;e++){var r=i[e];this.schema.push(new pe(r))}},Object.defineProperty(n.prototype,"isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSingle",{get:function(){return this.type==="single"},enumerable:!1,configurable:!0}),n}(it),he=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype.decode=function(t){return new fe(t)},Object.defineProperty(n.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),n.prototype.import=function(t,e,i){return e===void 0&&(e=!1),i===void 0&&(i={}),U(this,void 0,void 0,function(){return z(this,function(r){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:i,body:{collections:t,deleteMissing:e}}).then(function(){return!0})]})})},n}(St),jt=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype.load=function(t){o.prototype.load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},n}(it),ve=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype.getRequestsList=function(t,e,i){return t===void 0&&(t=1),e===void 0&&(e=30),i===void 0&&(i={}),i=Object.assign({page:t,perPage:e},i),this.client.send("/api/logs/requests",{method:"GET",params:i}).then(function(r){var s=[];if(r!=null&&r.items){r.items=(r==null?void 0:r.items)||[];for(var l=0,a=r.items;l<a.length;l++){var u=a[l];s.push(new jt(u))}}return new Gt((r==null?void 0:r.page)||1,(r==null?void 0:r.perPage)||0,(r==null?void 0:r.totalItems)||0,(r==null?void 0:r.totalPages)||0,s)})},n.prototype.getRequest=function(t,e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:e}).then(function(i){return new jt(i)})},n.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(e){return e})},n}(ot),me=function(o){function n(){var t=o!==null&&o.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t.lastSentTopics=[],t.maxConnectTimeout=1e4,t.reconnectAttempts=0,t.maxReconnectAttempts=1/0,t.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],t.pendingConnects=[],t}return $(n,o),Object.defineProperty(n.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(t,e){var i;return U(this,void 0,void 0,function(){var r,s=this;return z(this,function(l){switch(l.label){case 0:if(!t)throw new Error("topic must be set.");return r=function(a){var u,c=a;try{u=JSON.parse(c==null?void 0:c.data)}catch{}e(u||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(r),this.isConnected?[3,2]:[4,this.connect()];case 1:return l.sent(),[3,5];case 2:return this.subscriptions[t].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return l.sent(),[3,5];case 4:(i=this.eventSource)===null||i===void 0||i.addEventListener(t,r),l.label=5;case 5:return[2,function(){return U(s,void 0,void 0,function(){return z(this,function(a){return[2,this.unsubscribeByTopicAndListener(t,r)]})})}]}})})},n.prototype.unsubscribe=function(t){var e;return U(this,void 0,void 0,function(){var i,r,s;return z(this,function(l){switch(l.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(i=0,r=this.subscriptions[t];i<r.length;i++)s=r[i],(e=this.eventSource)===null||e===void 0||e.removeEventListener(t,s);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:l.sent(),l.label=3;case 3:return[2]}})})},n.prototype.unsubscribeByPrefix=function(t){var e;return U(this,void 0,void 0,function(){var i,r,s,l,a;return z(this,function(u){switch(u.label){case 0:for(r in i=!1,this.subscriptions)if(r.startsWith(t)){for(i=!0,s=0,l=this.subscriptions[r];s<l.length;s++)a=l[s],(e=this.eventSource)===null||e===void 0||e.removeEventListener(r,a);delete this.subscriptions[r]}return i?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return u.sent(),[3,3];case 2:this.disconnect(),u.label=3;case 3:return[2]}})})},n.prototype.unsubscribeByTopicAndListener=function(t,e){var i;return U(this,void 0,void 0,function(){var r,s;return z(this,function(l){switch(l.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(r=!1,s=this.subscriptions[t].length-1;s>=0;s--)this.subscriptions[t][s]===e&&(r=!0,delete this.subscriptions[t][s],this.subscriptions[t].splice(s,1),(i=this.eventSource)===null||i===void 0||i.removeEventListener(t,e));return r?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:l.sent(),l.label=3;case 3:return[2]}})})},n.prototype.hasSubscriptionListeners=function(t){var e,i;if(this.subscriptions=this.subscriptions||{},t)return!!(!((e=this.subscriptions[t])===null||e===void 0)&&e.length);for(var r in this.subscriptions)if(!((i=this.subscriptions[r])===null||i===void 0)&&i.length)return!0;return!1},n.prototype.submitSubscriptions=function(){return U(this,void 0,void 0,function(){return z(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(e){if(!(e!=null&&e.isAbort))throw e})]):[2]})})},n.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var e in this.subscriptions)this.subscriptions[e].length&&t.push(e);return t},n.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var e=0,i=this.subscriptions[t];e<i.length;e++){var r=i[e];this.eventSource.addEventListener(t,r)}},n.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var e=0,i=this.subscriptions[t];e<i.length;e++){var r=i[e];this.eventSource.removeEventListener(t,r)}},n.prototype.connect=function(){return U(this,void 0,void 0,function(){var t=this;return z(this,function(e){return this.reconnectAttempts>0?[2]:[2,new Promise(function(i,r){t.pendingConnects.push({resolve:i,reject:r}),t.pendingConnects.length>1||t.initConnect()})]})})},n.prototype.initConnect=function(){var t=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){t.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(e){t.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(e){var i=e;t.clientId=i==null?void 0:i.lastEventId,t.submitSubscriptions().then(function(){return U(t,void 0,void 0,function(){var r;return z(this,function(s){switch(s.label){case 0:r=3,s.label=1;case 1:return this.hasUnsentSubscriptions()&&r>0?(r--,[4,this.submitSubscriptions()]):[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var r=0,s=t.pendingConnects;r<s.length;r++)s[r].resolve();t.pendingConnects=[],t.reconnectAttempts=0,clearTimeout(t.reconnectTimeoutId),clearTimeout(t.connectTimeoutId)}).catch(function(r){t.clientId="",t.connectErrorHandler(r)})})},n.prototype.hasUnsentSubscriptions=function(){var t=this.getNonEmptySubscriptionTopics();if(t.length!=this.lastSentTopics.length)return!0;for(var e=0,i=t;e<i.length;e++){var r=i[e];if(!this.lastSentTopics.includes(r))return!0}return!1},n.prototype.connectErrorHandler=function(t){var e=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var i=0,r=this.pendingConnects;i<r.length;i++)r[i].reject(new nt(t));this.disconnect()}else{this.disconnect(!0);var s=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){e.initConnect()},s)}},n.prototype.disconnect=function(t){var e;if(t===void 0&&(t=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(e=this.eventSource)===null||e===void 0||e.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(var i=new nt(new Error("Realtime disconnected.")),r=0,s=this.pendingConnects;r<s.length;r++)s[r].reject(i);this.pendingConnects=[]}},n}(ot),be=function(o){function n(){return o!==null&&o.apply(this,arguments)||this}return $(n,o),n.prototype.check=function(t){return t===void 0&&(t={}),this.client.send("/api/health",{method:"GET",params:t})},n}(ot),ye=function(){function o(n,t,e){n===void 0&&(n="/"),e===void 0&&(e="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=n,this.lang=e,this.authStore=t||new le,this.admins=new ae(this),this.collections=new he(this),this.logs=new ve(this),this.settings=new ue(this),this.realtime=new me(this),this.health=new be(this)}return o.prototype.collection=function(n){return this.recordServices[n]||(this.recordServices[n]=new de(this,n)),this.recordServices[n]},o.prototype.autoCancellation=function(n){return this.enableAutoCancellation=!!n,this},o.prototype.cancelRequest=function(n){return this.cancelControllers[n]&&(this.cancelControllers[n].abort(),delete this.cancelControllers[n]),this},o.prototype.cancelAllRequests=function(){for(var n in this.cancelControllers)this.cancelControllers[n].abort();return this.cancelControllers={},this},o.prototype.send=function(n,t){var e,i,r,s,l,a,u,c;return U(this,void 0,void 0,function(){var d,g,_,k,E,T=this;return z(this,function(C){return(d=Object.assign({method:"GET"},t)).body&&d.body.constructor.name!=="FormData"&&(typeof d.body!="string"&&(d.body=JSON.stringify(d.body)),((e=d==null?void 0:d.headers)===null||e===void 0?void 0:e["Content-Type"])===void 0&&(d.headers=Object.assign({},d.headers,{"Content-Type":"application/json"}))),((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i["Accept-Language"])===void 0&&(d.headers=Object.assign({},d.headers,{"Accept-Language":this.lang})),!((r=this.authStore)===null||r===void 0)&&r.token&&((s=d==null?void 0:d.headers)===null||s===void 0?void 0:s.Authorization)===void 0&&(d.headers=Object.assign({},d.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((l=d.params)===null||l===void 0?void 0:l.$autoCancel)!==!1&&(g=((a=d.params)===null||a===void 0?void 0:a.$cancelKey)||(d.method||"GET")+n,this.cancelRequest(g),_=new AbortController,this.cancelControllers[g]=_,d.signal=_.signal),(u=d.params)===null||u===void 0||delete u.$autoCancel,(c=d.params)===null||c===void 0||delete c.$cancelKey,k=this.buildUrl(n),d.params!==void 0&&((E=this.serializeQueryParams(d.params))&&(k+=(k.includes("?")?"&":"?")+E),delete d.params),this.beforeSend&&(d=Object.assign({},this.beforeSend(k,d))),[2,fetch(k,d).then(function(S){return U(T,void 0,void 0,function(){var b;return z(this,function(f){switch(f.label){case 0:b={},f.label=1;case 1:return f.trys.push([1,3,,4]),[4,S.json()];case 2:return b=f.sent(),[3,4];case 3:return f.sent(),[3,4];case 4:if(this.afterSend&&(b=this.afterSend(S,b)),S.status>=400)throw new nt({url:S.url,status:S.status,data:b});return[2,b]}})})}).catch(function(S){throw new nt(S)})]})})},o.prototype.getFileUrl=function(n,t,e){e===void 0&&(e={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(n.collectionId||n.collectionName)),i.push(encodeURIComponent(n.id)),i.push(encodeURIComponent(t));var r=this.buildUrl(i.join("/"));if(Object.keys(e).length){var s=new URLSearchParams(e);r+=(r.includes("?")?"&":"?")+s}return r},o.prototype.buildUrl=function(n){var t=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return n&&(t+=n.startsWith("/")?n.substring(1):n),t},o.prototype.serializeQueryParams=function(n){var t=[];for(var e in n)if(n[e]!==null){var i=n[e],r=encodeURIComponent(e);if(Array.isArray(i))for(var s=0,l=i;s<l.length;s++){var a=l[s];t.push(r+"="+encodeURIComponent(a))}else i instanceof Date?t.push(r+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?t.push(r+"="+encodeURIComponent(JSON.stringify(i))):t.push(r+"="+encodeURIComponent(i))}return t.join("&")},o}();const V=[];function ge(o,n=G){let t;const e=new Set;function i(l){if(dt(o,l)&&(o=l,t)){const a=!V.length;for(const u of e)u[1](),V.push(u,o);if(a){for(let u=0;u<V.length;u+=2)V[u][0](V[u+1]);V.length=0}}}function r(l){i(l(o))}function s(l,a=G){const u=[l,a];return e.add(u),e.size===1&&(t=n(i)||G),l(o),()=>{e.delete(u),e.size===0&&(t(),t=null)}}return{set:i,update:r,subscribe:s}}const B=new ye("http://127.0.0.1:8090"),Ct=ge(B.authStore.model);B.authStore.onChange(o=>{console.log("authStore changed",o),Ct.set(B.authStore.model)});function _e(o){let n,t,e,i,r,s,l,a,u,c,d,g,_,k,E,T,C,S,b,f,P,R,A,W,F,M,Y,j=o[3]&&At(o);return{c(){n=m("h2"),n.textContent="Please enter your details to create account.",t=I(),e=m("p"),e.textContent="Name",i=I(),r=m("input"),s=I(),l=m("p"),l.textContent="Email",a=I(),u=m("input"),c=I(),d=m("p"),d.textContent="Password",g=I(),_=m("input"),k=m("br"),E=I(),T=m("p"),T.textContent="Password confirm",C=I(),S=m("input"),b=m("br"),f=I(),j&&j.c(),P=I(),R=m("button"),R.textContent="Sing Up",A=m("br"),W=D(`\r
				Have an account? `),F=m("button"),F.textContent="Sing In",y(n,"class","login__additional-text svelte-um0o0a"),y(r,"class","login__input svelte-um0o0a"),y(u,"class","login__input svelte-um0o0a"),y(_,"class","login__input svelte-um0o0a"),y(_,"type","password"),y(S,"class","login__input svelte-um0o0a"),y(S,"type","password"),y(R,"class","login__go-button svelte-um0o0a"),y(F,"class","login__change-button svelte-um0o0a")},m(p,O){v(p,n,O),v(p,t,O),v(p,e,O),v(p,i,O),v(p,r,O),L(r,o[0]),v(p,s,O),v(p,l,O),v(p,a,O),v(p,u,O),L(u,o[2]),v(p,c,O),v(p,d,O),v(p,g,O),v(p,_,O),L(_,o[1]),v(p,k,O),v(p,E,O),v(p,T,O),v(p,C,O),v(p,S,O),L(S,o[5]),v(p,b,O),v(p,f,O),j&&j.m(p,O),v(p,P,O),v(p,R,O),v(p,A,O),v(p,W,O),v(p,F,O),M||(Y=[N(r,"input",o[12]),N(u,"input",o[13]),N(_,"input",o[14]),N(S,"input",o[15]),N(R,"click",o[7]),N(F,"click",o[8])],M=!0)},p(p,O){O&1&&r.value!==p[0]&&L(r,p[0]),O&4&&u.value!==p[2]&&L(u,p[2]),O&2&&_.value!==p[1]&&L(_,p[1]),O&32&&S.value!==p[5]&&L(S,p[5]),p[3]?j?j.p(p,O):(j=At(p),j.c(),j.m(P.parentNode,P)):j&&(j.d(1),j=null)},d(p){p&&h(n),p&&h(t),p&&h(e),p&&h(i),p&&h(r),p&&h(s),p&&h(l),p&&h(a),p&&h(u),p&&h(c),p&&h(d),p&&h(g),p&&h(_),p&&h(k),p&&h(E),p&&h(T),p&&h(C),p&&h(S),p&&h(b),p&&h(f),j&&j.d(p),p&&h(P),p&&h(R),p&&h(A),p&&h(W),p&&h(F),M=!1,J(Y)}}}function we(o){let n,t,e,i,r,s,l,a,u,c,d,g,_,k,E,T,C,S,b=o[3]&&Lt(o);return{c(){n=m("h2"),n.textContent="Please enter your details to sign in back.",t=I(),e=m("p"),e.textContent="Email or Username",i=I(),r=m("input"),s=I(),l=m("p"),l.textContent="Password",a=I(),u=m("input"),c=m("br"),d=I(),b&&b.c(),g=I(),_=m("button"),_.textContent="Sign In",k=m("br"),E=D(`\r
				Don't have an account? `),T=m("button"),T.textContent="Sing Up",y(n,"class","login__additional-text svelte-um0o0a"),y(r,"class","login__input svelte-um0o0a"),y(u,"class","login__input svelte-um0o0a"),y(u,"type","password"),y(_,"class","login__go-button svelte-um0o0a"),y(T,"class","login__change-button svelte-um0o0a")},m(f,P){v(f,n,P),v(f,t,P),v(f,e,P),v(f,i,P),v(f,r,P),L(r,o[0]),v(f,s,P),v(f,l,P),v(f,a,P),v(f,u,P),L(u,o[1]),v(f,c,P),v(f,d,P),b&&b.m(f,P),v(f,g,P),v(f,_,P),v(f,k,P),v(f,E,P),v(f,T,P),C||(S=[N(r,"input",o[10]),N(u,"input",o[11]),N(_,"click",o[6]),N(T,"click",o[8])],C=!0)},p(f,P){P&1&&r.value!==f[0]&&L(r,f[0]),P&2&&u.value!==f[1]&&L(u,f[1]),f[3]?b?b.p(f,P):(b=Lt(f),b.c(),b.m(g.parentNode,g)):b&&(b.d(1),b=null)},d(f){f&&h(n),f&&h(t),f&&h(e),f&&h(i),f&&h(r),f&&h(s),f&&h(l),f&&h(a),f&&h(u),f&&h(c),f&&h(d),b&&b.d(f),f&&h(g),f&&h(_),f&&h(k),f&&h(E),f&&h(T),C=!1,J(S)}}}function At(o){let n,t;return{c(){n=m("div"),t=D(o[3]),y(n,"class","login__error svelte-um0o0a")},m(e,i){v(e,n,i),w(n,t)},p(e,i){i&8&&Q(t,e[3])},d(e){e&&h(n)}}}function Lt(o){let n,t;return{c(){n=m("div"),t=D(o[3]),y(n,"class","login__error svelte-um0o0a")},m(e,i){v(e,n,i),w(n,t)},p(e,i){i&8&&Q(t,e[3])},d(e){e&&h(n)}}}function Se(o){let n,t,e,i,r,s;function l(c,d){return c[4]?we:_e}let a=l(o),u=a(o);return{c(){n=m("div"),t=m("form"),e=m("h1"),e.textContent="📒Your TODO List",i=I(),u.c(),y(e,"class","login__main-text svelte-um0o0a"),y(t,"class","login__form svelte-um0o0a"),y(n,"class","login svelte-um0o0a")},m(c,d){v(c,n,d),w(n,t),w(t,e),w(t,i),u.m(t,null),r||(s=N(t,"submit",Kt(o[9])),r=!0)},p(c,[d]){a===(a=l(c))&&u?u.p(c,d):(u.d(1),u=a(c),u&&(u.c(),u.m(t,null)))},i:G,o:G,d(c){c&&h(n),u.d(),r=!1,s()}}}function Ce(o,n,t){let e,i,r,s,l=!0,a;async function u(){try{await B.collection("users").authWithPassword(e,i)}catch(b){console.log(b.data.message),t(3,s=await b.data.message)}}async function c(){try{const b={username:e,password:i,passwordConfirm:a,email:r},f=await B.collection("users").create(b);await u()}catch(b){console.log(b.data.message),t(3,s=await b.data.message)}}function d(){l==!0?t(4,l=!1):t(4,l=!0)}function g(b){Yt.call(this,o,b)}function _(){e=this.value,t(0,e)}function k(){i=this.value,t(1,i)}function E(){e=this.value,t(0,e)}function T(){r=this.value,t(2,r)}function C(){i=this.value,t(1,i)}function S(){a=this.value,t(5,a)}return[e,i,r,s,l,a,u,c,d,g,_,k,E,T,C,S]}class Oe extends _t{constructor(n){super(),gt(this,n,Ce,Se,dt,{})}}function Rt(o,n,t){const e=o.slice();return e[14]=n[t],e}function Nt(o){let n,t=o[0],e=[];for(let i=0;i<t.length;i+=1)e[i]=$t(Rt(o,t,i));return{c(){for(let i=0;i<e.length;i+=1)e[i].c();n=xt()},m(i,r){for(let s=0;s<e.length;s+=1)e[s].m(i,r);v(i,n,r)},p(i,r){if(r&97){t=i[0];let s;for(s=0;s<t.length;s+=1){const l=Rt(i,t,s);e[s]?e[s].p(l,r):(e[s]=$t(l),e[s].c(),e[s].m(n.parentNode,n))}for(;s<e.length;s+=1)e[s].d(1);e.length=t.length}},d(i){Ht(e,i),i&&h(n)}}}function $t(o){let n,t,e=o[14].name+"",i,r,s,l=o[14].name+"",a,u,c,d=new Date(o[14].to_date).toLocaleString()+"",g,_,k,E,T,C,S,b;function f(){return o[8](o[14])}function P(){return o[9](o[14])}return{c(){n=m("div"),t=m("div"),i=D(e),r=I(),s=m("div"),a=D(l),u=I(),c=m("div"),g=D(d),_=I(),k=m("div"),k.textContent="❌",E=I(),y(t,"class","todo__name svelte-1pzw248"),y(s,"class","todo__description svelte-1pzw248"),y(c,"class","todo__date svelte-1pzw248"),y(k,"class","todo__status svelte-1pzw248"),y(n,"id",T=o[14].id),y(n,"class",C=Pt("todo status-"+o[14].status)+" svelte-1pzw248")},m(R,A){v(R,n,A),w(n,t),w(t,i),w(n,r),w(n,s),w(s,a),w(n,u),w(n,c),w(c,g),w(n,_),w(n,k),w(n,E),S||(b=[N(k,"click",f),N(n,"click",P)],S=!0)},p(R,A){o=R,A&1&&e!==(e=o[14].name+"")&&Q(i,e),A&1&&l!==(l=o[14].name+"")&&Q(a,l),A&1&&d!==(d=new Date(o[14].to_date).toLocaleString()+"")&&Q(g,d),A&1&&T!==(T=o[14].id)&&y(n,"id",T),A&1&&C!==(C=Pt("todo status-"+o[14].status)+" svelte-1pzw248")&&y(n,"class",C)},d(R){R&&h(n),S=!1,J(b)}}}function Pe(o){let n,t,e,i,r,s=o[4].username+"",l,a,u,c,d,g,_,k,E,T,C,S,b,f,P,R,A,W,F,M,Y,j,p,O,q=o[0]&&Nt(o);return{c(){n=m("div"),t=m("h1"),t.textContent="📒Your TODO list",e=I(),i=m("h2"),r=D("👋Welcome back "),l=D(s),a=D("!"),u=I(),c=m("div"),d=I(),g=m("div"),_=m("div"),_.innerHTML=`<div class="todo__name svelte-1pzw248">Name</div> 
		<div class="todo__description svelte-1pzw248">Description</div> 
		<div class="todo__date svelte-1pzw248">Deadline ends</div> 
		<div class="todo__status svelte-1pzw248">Status</div>`,k=I(),q&&q.c(),E=I(),T=m("div"),C=I(),S=m("div"),b=m("div"),f=m("input"),P=I(),R=m("div"),A=m("input"),W=I(),F=m("div"),M=m("input"),Y=I(),j=m("div"),j.textContent="➕",y(t,"class","main__main-text svelte-1pzw248"),y(i,"class","main__additional-text svelte-1pzw248"),y(c,"class","line"),y(_,"class","todo svelte-1pzw248"),y(T,"id","creted"),y(f,"class","svelte-1pzw248"),y(b,"class","todo__name svelte-1pzw248"),y(A,"class","svelte-1pzw248"),y(R,"class","todo__description svelte-1pzw248"),y(M,"type","date"),y(M,"class","svelte-1pzw248"),y(F,"class","todo__date svelte-1pzw248"),y(j,"class","todo__status svelte-1pzw248"),y(S,"class","todo svelte-1pzw248"),y(g,"class","todobox"),y(n,"class","main svelte-1pzw248")},m(x,H){v(x,n,H),w(n,t),w(n,e),w(n,i),w(i,r),w(i,l),w(i,a),w(n,u),w(n,c),w(n,d),w(n,g),w(g,_),w(g,k),q&&q.m(g,null),w(g,E),w(g,T),w(g,C),w(g,S),w(S,b),w(b,f),L(f,o[1]),w(S,P),w(S,R),w(R,A),L(A,o[2]),w(S,W),w(S,F),w(F,M),L(M,o[3]),w(S,Y),w(S,j),p||(O=[N(f,"input",o[10]),N(A,"input",o[11]),N(M,"input",o[12]),N(j,"click",o[7])],p=!0)},p(x,[H]){H&16&&s!==(s=x[4].username+"")&&Q(l,s),x[0]?q?q.p(x,H):(q=Nt(x),q.c(),q.m(g,E)):q&&(q.d(1),q=null),H&2&&f.value!==x[1]&&L(f,x[1]),H&4&&A.value!==x[2]&&L(A,x[2]),H&8&&L(M,x[3])},i:G,o:G,d(x){x&&h(n),q&&q.d(),p=!1,J(O)}}}function ke(o,n,t){let e;qt(o,Ct,C=>t(4,e=C));let i=[],r,s,l;async function a(){const C=await B.collection("todo_list").getList(1,25,{sort:"to_date"});t(0,i=C.items)}async function u(C){console.log(C);let S=document.getElementById(C);const f={status:S.classList.contains("status-1")?0:1};await B.collection("todo_list").update(C,f),S.classList.toggle("status-1")}async function c(C){await B.collection("todo_list").delete(C),document.getElementById(C).parentNode.removeChild(document.getElementById(C))}async function d(){const C={user:e.id,name:r,description:s,status:0,to_date:l};await B.collection("todo_list").create(C),a()}Qt(()=>{a()});const g=C=>{c(C.id)},_=C=>{u(C.id)};function k(){r=this.value,t(1,r)}function E(){s=this.value,t(2,s)}function T(){l=this.value,t(3,l)}return[i,r,s,l,e,u,c,d,g,_,k,E,T]}class Ie extends _t{constructor(n){super(),gt(this,n,ke,Pe,dt,{})}}function Te(o){let n,t;return n=new Oe({}),{c(){Ft(n.$$.fragment)},m(e,i){bt(n,e,i),t=!0},i(e){t||(et(n.$$.fragment,e),t=!0)},o(e){at(n.$$.fragment,e),t=!1},d(e){yt(n,e)}}}function Ee(o){let n,t;return n=new Ie({}),{c(){Ft(n.$$.fragment)},m(e,i){bt(n,e,i),t=!0},i(e){t||(et(n.$$.fragment,e),t=!0)},o(e){at(n.$$.fragment,e),t=!1},d(e){yt(n,e)}}}function je(o){let n,t,e,i;const r=[Ee,Te],s=[];function l(a,u){return a[0]?0:1}return n=l(o),t=s[n]=r[n](o),{c(){t.c(),e=xt()},m(a,u){s[n].m(a,u),v(a,e,u),i=!0},p(a,[u]){let c=n;n=l(a),n!==c&&(ee(),at(s[c],1,1,()=>{s[c]=null}),ne(),t=s[n],t||(t=s[n]=r[n](a),t.c()),et(t,1),t.m(e.parentNode,e))},i(a){i||(et(t),i=!0)},o(a){at(t),i=!1},d(a){s[n].d(a),a&&h(e)}}}function Ae(o,n,t){let e;return qt(o,Ct,i=>t(0,e=i)),[e]}class Le extends _t{constructor(n){super(),gt(this,n,Ae,je,dt,{})}}new Le({target:document.getElementById("app")});
